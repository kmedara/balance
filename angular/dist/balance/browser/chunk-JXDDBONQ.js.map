{"version":3,"sources":["node_modules/primeng/fesm2022/primeng-focustrap.mjs"],"sourcesContent":["import { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { inject, PLATFORM_ID, booleanAttribute, Input, Directive, NgModule } from '@angular/core';\nimport { createElement, getFirstFocusableElement, focus, getLastFocusableElement } from '@primeuix/utils';\nimport { BaseComponent } from 'primeng/basecomponent';\n\n/**\n * Focus Trap keeps focus within a certain DOM element while tabbing.\n * @group Components\n */\nlet FocusTrap = /*#__PURE__*/(() => {\n  class FocusTrap extends BaseComponent {\n    /**\n     * When set as true, focus wouldn't be managed.\n     * @group Props\n     */\n    pFocusTrapDisabled = false;\n    platformId = inject(PLATFORM_ID);\n    document = inject(DOCUMENT);\n    firstHiddenFocusableElement;\n    lastHiddenFocusableElement;\n    onInit() {\n      if (isPlatformBrowser(this.platformId) && !this.pFocusTrapDisabled) {\n        !this.firstHiddenFocusableElement && !this.lastHiddenFocusableElement && this.createHiddenFocusableElements();\n      }\n    }\n    onChanges(changes) {\n      if (changes.pFocusTrapDisabled && isPlatformBrowser(this.platformId)) {\n        if (changes.pFocusTrapDisabled.currentValue) {\n          this.removeHiddenFocusableElements();\n        } else {\n          this.createHiddenFocusableElements();\n        }\n      }\n    }\n    removeHiddenFocusableElements() {\n      if (this.firstHiddenFocusableElement && this.firstHiddenFocusableElement.parentNode) {\n        this.firstHiddenFocusableElement.parentNode.removeChild(this.firstHiddenFocusableElement);\n      }\n      if (this.lastHiddenFocusableElement && this.lastHiddenFocusableElement.parentNode) {\n        this.lastHiddenFocusableElement.parentNode.removeChild(this.lastHiddenFocusableElement);\n      }\n    }\n    getComputedSelector(selector) {\n      return `:not(.p-hidden-focusable):not([data-p-hidden-focusable=\"true\"])${selector ?? ''}`;\n    }\n    createHiddenFocusableElements() {\n      const tabindex = '0';\n      const createFocusableElement = onFocus => {\n        return createElement('span', {\n          class: 'p-hidden-accessible p-hidden-focusable',\n          tabindex,\n          role: 'presentation',\n          'aria-hidden': true,\n          'data-p-hidden-accessible': true,\n          'data-p-hidden-focusable': true,\n          onFocus: onFocus?.bind(this)\n        });\n      };\n      this.firstHiddenFocusableElement = createFocusableElement(this.onFirstHiddenElementFocus);\n      this.lastHiddenFocusableElement = createFocusableElement(this.onLastHiddenElementFocus);\n      this.firstHiddenFocusableElement.setAttribute('data-pc-section', 'firstfocusableelement');\n      this.lastHiddenFocusableElement.setAttribute('data-pc-section', 'lastfocusableelement');\n      this.el.nativeElement.prepend(this.firstHiddenFocusableElement);\n      this.el.nativeElement.append(this.lastHiddenFocusableElement);\n    }\n    onFirstHiddenElementFocus(event) {\n      const {\n        currentTarget,\n        relatedTarget\n      } = event;\n      const focusableElement = relatedTarget === this.lastHiddenFocusableElement || !this.el.nativeElement?.contains(relatedTarget) ? getFirstFocusableElement(currentTarget.parentElement, ':not(.p-hidden-focusable)') : this.lastHiddenFocusableElement;\n      focus(focusableElement);\n    }\n    onLastHiddenElementFocus(event) {\n      const {\n        currentTarget,\n        relatedTarget\n      } = event;\n      const focusableElement = relatedTarget === this.firstHiddenFocusableElement || !this.el.nativeElement?.contains(relatedTarget) ? getLastFocusableElement(currentTarget.parentElement, ':not(.p-hidden-focusable)') : this.firstHiddenFocusableElement;\n      focus(focusableElement);\n    }\n    static ɵfac = /* @__PURE__ */(() => {\n      let ɵFocusTrap_BaseFactory;\n      return function FocusTrap_Factory(__ngFactoryType__) {\n        return (ɵFocusTrap_BaseFactory || (ɵFocusTrap_BaseFactory = i0.ɵɵgetInheritedFactory(FocusTrap)))(__ngFactoryType__ || FocusTrap);\n      };\n    })();\n    static ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: FocusTrap,\n      selectors: [[\"\", \"pFocusTrap\", \"\"]],\n      inputs: {\n        pFocusTrapDisabled: [2, \"pFocusTrapDisabled\", \"pFocusTrapDisabled\", booleanAttribute]\n      },\n      features: [i0.ɵɵInheritDefinitionFeature]\n    });\n  }\n  return FocusTrap;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet FocusTrapModule = /*#__PURE__*/(() => {\n  class FocusTrapModule {\n    static ɵfac = function FocusTrapModule_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || FocusTrapModule)();\n    };\n    static ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n      type: FocusTrapModule\n    });\n    static ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({});\n  }\n  return FocusTrapModule;\n})();\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FocusTrap, FocusTrapModule };\n"],"mappings":"kNAUA,IAAIA,GAA0B,IAAM,CAClC,MAAMA,UAAkBC,CAAc,CAKpC,mBAAqB,GACrB,WAAaC,EAAOC,CAAW,EAC/B,SAAWD,EAAOE,CAAQ,EAC1B,4BACA,2BACA,QAAS,CACHC,EAAkB,KAAK,UAAU,GAAK,CAAC,KAAK,oBAC9C,CAAC,KAAK,6BAA+B,CAAC,KAAK,4BAA8B,KAAK,8BAA8B,CAEhH,CACA,UAAUC,EAAS,CACbA,EAAQ,oBAAsBD,EAAkB,KAAK,UAAU,IAC7DC,EAAQ,mBAAmB,aAC7B,KAAK,8BAA8B,EAEnC,KAAK,8BAA8B,EAGzC,CACA,+BAAgC,CAC1B,KAAK,6BAA+B,KAAK,4BAA4B,YACvE,KAAK,4BAA4B,WAAW,YAAY,KAAK,2BAA2B,EAEtF,KAAK,4BAA8B,KAAK,2BAA2B,YACrE,KAAK,2BAA2B,WAAW,YAAY,KAAK,0BAA0B,CAE1F,CACA,oBAAoBC,EAAU,CAC5B,MAAO,kEAAkEA,GAAY,EAAE,EACzF,CACA,+BAAgC,CAE9B,IAAMC,EAAyBC,GACtBC,EAAc,OAAQ,CAC3B,MAAO,yCACP,aACA,KAAM,eACN,cAAe,GACf,2BAA4B,GAC5B,0BAA2B,GAC3B,QAASD,GAAS,KAAK,IAAI,CAC7B,CAAC,EAEH,KAAK,4BAA8BD,EAAuB,KAAK,yBAAyB,EACxF,KAAK,2BAA6BA,EAAuB,KAAK,wBAAwB,EACtF,KAAK,4BAA4B,aAAa,kBAAmB,uBAAuB,EACxF,KAAK,2BAA2B,aAAa,kBAAmB,sBAAsB,EACtF,KAAK,GAAG,cAAc,QAAQ,KAAK,2BAA2B,EAC9D,KAAK,GAAG,cAAc,OAAO,KAAK,0BAA0B,CAC9D,CACA,0BAA0BG,EAAO,CAC/B,GAAM,CACJ,cAAAC,EACA,cAAAC,CACF,EAAIF,EACEG,EAAmBD,IAAkB,KAAK,4BAA8B,CAAC,KAAK,GAAG,eAAe,SAASA,CAAa,EAAIE,EAAyBH,EAAc,cAAe,2BAA2B,EAAI,KAAK,2BAC1NI,EAAMF,CAAgB,CACxB,CACA,yBAAyBH,EAAO,CAC9B,GAAM,CACJ,cAAAC,EACA,cAAAC,CACF,EAAIF,EACEG,EAAmBD,IAAkB,KAAK,6BAA+B,CAAC,KAAK,GAAG,eAAe,SAASA,CAAa,EAAII,EAAwBL,EAAc,cAAe,2BAA2B,EAAI,KAAK,4BAC1NI,EAAMF,CAAgB,CACxB,CACA,OAAO,WAAuB,IAAM,CAClC,IAAII,EACJ,OAAO,SAA2BC,EAAmB,CACnD,OAAQD,IAA2BA,EAA4BE,EAAsBpB,CAAS,IAAImB,GAAqBnB,CAAS,CAClI,CACF,GAAG,EACH,OAAO,UAAyBqB,EAAkB,CAChD,KAAMrB,EACN,UAAW,CAAC,CAAC,GAAI,aAAc,EAAE,CAAC,EAClC,OAAQ,CACN,mBAAoB,CAAC,EAAG,qBAAsB,qBAAsBsB,CAAgB,CACtF,EACA,SAAU,CAAIC,CAA0B,CAC1C,CAAC,CACH,CACA,OAAOvB,CACT,GAAG,EAICwB,GAAgC,IAAM,CACxC,MAAMA,CAAgB,CACpB,OAAO,UAAO,SAAiCL,EAAmB,CAChE,OAAO,IAAKA,GAAqBK,EACnC,EACA,OAAO,UAAyBC,EAAiB,CAC/C,KAAMD,CACR,CAAC,EACD,OAAO,UAAyBE,EAAiB,CAAC,CAAC,CACrD,CACA,OAAOF,CACT,GAAG","names":["FocusTrap","BaseComponent","inject","PLATFORM_ID","DOCUMENT","isPlatformBrowser","changes","selector","createFocusableElement","onFocus","U","event","currentTarget","relatedTarget","focusableElement","vt","bt","Lt","ɵFocusTrap_BaseFactory","__ngFactoryType__","ɵɵgetInheritedFactory","ɵɵdefineDirective","booleanAttribute","ɵɵInheritDefinitionFeature","FocusTrapModule","ɵɵdefineNgModule","ɵɵdefineInjector"],"x_google_ignoreList":[0]}